cleanup: sharedvars
fix deadlock path
